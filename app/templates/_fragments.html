{% if frag == "type_rows" %}
  {% if rows and rows|length > 0 %}
    <table>
      <thead>
        <tr><th>Name</th><th>UUID</th><th>Content Type</th><th>Open</th></tr>
      </thead>
      <tbody>
        {% for r in rows %}
          {% set uid = r.get('Uuid') or r.get('UUID') or r.get('uuid') %}
          {% if not uid %}
            {% set uri = r.get('uri') or '' %}
            {% if '(' in uri and ')' in uri %}
              {% set uid = uri.split('(')[-1].rstrip(')') %}
            {% else %}
              {% set uid = uri %}
            {% endif %}
          {% endif %}
          {% set citation = r.get('Citation') or {} %}
          {% set title = citation.get('Title') or r.get('Title') or r.get('title') or r.get('name') or uid %}
          {% set ct = r.get('$type') or r.get('contentType') or '' %}

          <tr>
            <td>{{ title }}</td>
            <td><code>{{ uid }}</code></td>
            <td><code>{{ ct }}</code></td>
            <td>
              /d/{{ ds }}/t/{{ typ }}/{{ uid }}Open</button>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="muted">No resources found for this type.</p>
  {% endif %}
{% else %}
  <p class="muted">Unknown fragment.</p>
{% endif %}